/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */
import{b as o,c as n}from"./p-0d7ac9e6.js";import{OVERLAY_BACK_BUTTON_PRIORITY as t}from"./p-6561b0e5.js";import{c as e,f as i,a,b as s,g as r}from"./p-18d5f1a9.js";let d=0;const c=new WeakMap,l=o=>({create:n=>w(o,n),dismiss:(n,t,e)=>P(document,n,t,o,e),getTop:async()=>A(document,o)}),u=l("ion-alert"),p=l("ion-action-sheet"),v=l("ion-loading"),f=l("ion-modal"),m=l("ion-picker"),y=l("ion-popover"),b=l("ion-toast"),h=o=>{"undefined"!=typeof document&&O(document);const n=d++;o.overlayIndex=n,o.hasAttribute("id")||(o.id=`ion-overlay-${n}`)},w=(o,n)=>"undefined"!=typeof window&&void 0!==window.customElements?window.customElements.whenDefined(o).then((()=>{const t=document.createElement(o);return t.classList.add("overlay-hidden"),Object.assign(t,Object.assign(Object.assign({},n),{hasController:!0})),E(document).appendChild(t),new Promise((o=>e(t,o)))})):Promise.resolve(),x='[tabindex]:not([tabindex^="-"]), input:not([type=hidden]):not([tabindex^="-"]), textarea:not([tabindex^="-"]), button:not([tabindex^="-"]), select:not([tabindex^="-"]), .ion-focusable:not([tabindex^="-"])',k="input:not([type=hidden]), textarea, button, select",g=(o,n)=>{let t=o.querySelector(x);const e=null==t?void 0:t.shadowRoot;e&&(t=e.querySelector(k)||t),t?i(t):n.focus()},j=(o,n)=>{const t=Array.from(o.querySelectorAll(x));let e=t.length>0?t[t.length-1]:null;const i=null==e?void 0:e.shadowRoot;i&&(e=i.querySelector(k)||e),e?e.focus():n.focus()},O=o=>{0===d&&(d=1,o.addEventListener("focus",(n=>{((o,n)=>{const t=A(n,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),e=o.target;t&&e&&(t.classList.contains("ion-disable-focus-trap")||(t.shadowRoot?(()=>{if(t.contains(e))t.lastFocus=e;else{const o=t.lastFocus;g(t,t),o===n.activeElement&&j(t,t),t.lastFocus=n.activeElement}})():(()=>{if(t===e)t.lastFocus=void 0;else{const o=r(t);if(!o.contains(e))return;const i=o.querySelector(".ion-overlay-wrapper");if(!i)return;if(i.contains(e))t.lastFocus=e;else{const o=t.lastFocus;g(i,t),o===n.activeElement&&j(i,t),t.lastFocus=n.activeElement}}})()))})(n,o)}),!0),o.addEventListener("ionBackButton",(n=>{const e=A(o);(null==e?void 0:e.backdropDismiss)&&n.detail.register(t,(()=>e.dismiss(void 0,$)))})),o.addEventListener("keyup",(n=>{if("Escape"===n.key){const n=A(o);(null==n?void 0:n.backdropDismiss)&&n.dismiss(void 0,$)}})))},P=(o,n,t,e,i)=>{const a=A(o,e,i);return a?a.dismiss(n,t):Promise.reject("overlay does not exist")},A=(o,n,t)=>{const e=((o,n)=>(void 0===n&&(n="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(o.querySelectorAll(n)).filter((o=>o.overlayIndex>0))))(o,n).filter((o=>!o.classList.contains("overlay-hidden")));return void 0===t?e[e.length-1]:e.find((o=>o.id===t))},B=(o=!1)=>{const n=E(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");n&&(o?n.setAttribute("aria-hidden","true"):n.removeAttribute("aria-hidden"))},T=async(t,e,i,a,s)=>{var r,d;if(t.presented)return;B(!0),t.presented=!0,t.willPresent.emit(),null===(r=t.willPresentShorthand)||void 0===r||r.emit();const c=o(t),l=t.enterAnimation?t.enterAnimation:n.get(e,"ios"===c?i:a);await G(t,l,t.el,s)&&(t.didPresent.emit(),null===(d=t.didPresentShorthand)||void 0===d||d.emit()),"ION-TOAST"!==t.el.tagName&&z(t.el),t.keyboardClose&&t.el.focus()},z=async o=>{let n=document.activeElement;if(!n)return;const t=null==n?void 0:n.shadowRoot;t&&(n=t.querySelector(k)||n),await o.onDidDismiss(),n.focus()},C=async(t,e,i,a,s,r,d)=>{var l,u;if(!t.presented)return!1;B(!1),t.presented=!1;try{t.el.style.setProperty("pointer-events","none"),t.willDismiss.emit({data:e,role:i}),null===(l=t.willDismissShorthand)||void 0===l||l.emit({data:e,role:i});const p=o(t),v=t.leaveAnimation?t.leaveAnimation:n.get(a,"ios"===p?s:r);"gesture"!==i&&await G(t,v,t.el,d),t.didDismiss.emit({data:e,role:i}),null===(u=t.didDismissShorthand)||void 0===u||u.emit({data:e,role:i}),c.delete(t),t.el.classList.add("overlay-hidden"),t.el.style.removeProperty("pointer-events")}catch(o){console.error(o)}return t.el.remove(),!0},E=o=>o.querySelector("ion-app")||o.body,G=async(o,t,e,i)=>{e.classList.remove("overlay-hidden");const a=t(o.el,i);o.animated&&n.getBoolean("animated",!0)||a.duration(0),o.keyboardClose&&a.beforeAddWrite((()=>{const o=e.ownerDocument.activeElement;(null==o?void 0:o.matches("input,ion-input, ion-textarea"))&&o.blur()}));const s=c.get(o)||[];return c.set(o,[...s,a]),await a.play(),!0},I=(o,n)=>{let t;const e=new Promise((o=>t=o));return M(o,n,(o=>{t(o.detail)})),e},M=(o,n,t)=>{const e=i=>{s(o,n,e),t(i)};a(o,n,e)},N=o=>"cancel"===o||o===$,S=o=>o(),W=(o,t)=>{if("function"==typeof o)return n.get("_zoneGate",S)((()=>{try{return o(t)}catch(o){throw o}}))},$="backdrop";export{$ as B,u as a,p as b,y as c,T as d,h as e,C as f,I as g,c as h,N as i,g as j,A as k,v as l,f as m,m as p,W as s,b as t}